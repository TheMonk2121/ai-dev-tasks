# Conservative Bedrock settings to prevent hangs
# Use these when experiencing hanging issues

# Rate limiting - conservative caps
export BEDROCK_MAX_IN_FLIGHT=1
export BEDROCK_MAX_RPS=0.12

# Retry settings - fail fast instead of hanging
export BEDROCK_MAX_RETRIES=4
export BEDROCK_RETRY_BASE=1.8
export BEDROCK_RETRY_MAX_SLEEP=8
export BEDROCK_COOLDOWN_SEC=8

# Hard deadlines for SDK calls
export BEDROCK_CALL_TIMEOUT_SEC=35
export BEDROCK_TEXT_TIMEOUT_SEC=25

# Disable semantic features to avoid model loading hangs
export RAGCHECKER_SEMANTIC_FEATURES=0
export RAGCHECKER_DISABLE_EMBEDDINGS=1

# Bypass CLI to avoid subprocess hangs
export RAGCHECKER_BYPASS_CLI=1

# Enable progress logging for visibility
export RAGCHECKER_PROGRESS_LOG=metrics/baseline_evaluations/progress.jsonl

# Enable fault handler for stack dumps during stalls
export PYTHONFAULTHANDLER=1
export RAGCHECKER_HANG_DUMP_SEC=180

# Unbuffered output
export PYTHONUNBUFFERED=1
