# ðŸŽ¯ retrieval-13of13-stable Runtime Configuration
# Tag: retrieval-13of13-stable
# Commit: f2bea2500c709e80e4b24fc4aeb11e6e0ac6d8a8
# Status: Production-ready with comprehensive monitoring

# === CORE RETRIEVAL SETTINGS ===
PGVECTOR_OPS=cosine
RETRIEVER_WEIGHTS_FILE=configs/retriever_weights.yaml
RETRIEVER_LIMITS_FILE=configs/retriever_limits.yaml

# === READER OPTIMIZATION ===
READER_COMPACT=1
PER_FILE_CAP=5
MMR_ALPHA=0.85

# === CONCURRENCY CEILINGS ===
# Retrieval workers: 4-8 (database connection pool)
MAX_RETRIEVAL_WORKERS=6
# LLM workers: 2-3 (memory/GPU constraints)
MAX_LLM_WORKERS=2

# === COLD-START HARDENING ===
COLD_START_WVEC_BOOST=0.10

# === EVALUATION THRESHOLDS ===
# Retrieval gates
PREFILTER_MIN_MICRO=0.85
PREFILTER_MIN_TAG=0.75
MAX_REG_DROP=0.05

# Reader gates
READER_MIN_F1_MICRO=0.35
READER_MIN_F1_TAG=0.25
MAX_READER_REG_DROP=0.05

# === DRIFT DETECTION ===
MAX_RETR_WEEKLY_DRIFT=0.02
MAX_READ_WEEKLY_DRIFT=0.03

# === TELEMETRY & MONITORING ===
ENABLE_QUERY_TELEMETRY=1
TELEMETRY_LOG_FILE=logs/query_telemetry.jsonl
