# Source this from both ~/.zshrc and ~/.bashrc for consistent behavior

# Bedrock Rate Limiting (Anti-Throttling)
export BEDROCK_MAX_RPS=0.15
export BEDROCK_MAX_IN_FLIGHT=1
export BEDROCK_COOLDOWN_SEC=30
export BEDROCK_RETRY_MAX=8
export BEDROCK_RETRY_BASE=1.8
export BEDROCK_RETRY_MAX_SLEEP=20

# Queue Client Concurrency Control
export USE_BEDROCK_QUEUE=1
export ASYNC_MAX_CONCURRENCY=1
export BEDROCK_MAX_CONCURRENCY=1

# RAGChecker Configuration (No-Throttle Profile)
export RAGCHECKER_COVERAGE_REWRITE=0
export RAGCHECKER_JSON_PROMPTS=0
export RAGCHECKER_JSON_MAX_TOKENS=200

# Evidence Selection Gates
export RAGCHECKER_EVIDENCE_JACCARD=0.3
export RAGCHECKER_EVIDENCE_COVERAGE=0.4

# Dynamic-K Settings
export RAGCHECKER_EVIDENCE_KEEP_MODE=adaptive
export RAGCHECKER_SIGNAL_DELTA_STRONG=0.15
export RAGCHECKER_SIGNAL_DELTA_WEAK=0.05
export RAGCHECKER_TARGET_K_STRONG=8
export RAGCHECKER_TARGET_K_WEAK=5
export RAGCHECKER_EVIDENCE_MIN_SENT=2
export RAGCHECKER_EVIDENCE_MAX_SENT=6

# AWS Configuration
export AWS_REGION=us-east-1

if [[ $- == *i* ]]; then echo "âœ… AI Dev Tasks environment loaded"; fi
