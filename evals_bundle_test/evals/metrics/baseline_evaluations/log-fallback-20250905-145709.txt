âœ… Using Enhanced Bedrock Queue Client with intelligent batching
ğŸ›¡ï¸  No env specified; defaulting to stable configuration: configs/stable_bedrock.env
ğŸ”’ Environment locked. Override by setting RAGCHECKER_ENV_FILE or passing --stable with your file.
ğŸ”§ Applied 15 env keys from configs/stable_bedrock.env
ğŸ›¡ï¸  SafeEval: enforcing stable settings for high-risk combos
ğŸ§  Auto-detected: Using AWS Bedrock (faster, more reliable)
ğŸ§  Official RAGChecker Evaluation
============================================================
ğŸ“‹ Following official RAGChecker methodology
ğŸ¯ Using official metrics and procedures
â˜ï¸ AWS Bedrock Mode: anthropic.claude-3-haiku-20240307-v1:0
ğŸ“Š Full evaluation mode: Using all 15 test cases
ğŸ§  Preparing Official RAGChecker Input Data
==================================================
ğŸ” Processing Test Case 1/15: memory_system_001
[fallback] using extractive context answer
   âœ… Response length: 73 characters
ğŸ” Processing Test Case 2/15: dspy_integration_001
[fallback] using extractive context answer
   âœ… Response length: 75 characters
ğŸ” Processing Test Case 3/15: role_context_001
[fallback] using extractive context answer
   âœ… Response length: 39 characters
ğŸ” Processing Test Case 4/15: research_context_001
[fallback] using extractive context answer
   âœ… Response length: 64 characters
ğŸ” Processing Test Case 5/15: architecture_001
[fallback] using extractive context answer
   âœ… Response length: 71 characters
ğŸ” Processing Test Case 6/15: technical_implementation_001
[fallback] using extractive context answer
   âœ… Response length: 52 characters
ğŸ” Processing Test Case 7/15: performance_optimization_001
[fallback] using extractive context answer
   âœ… Response length: 129 characters
ğŸ” Processing Test Case 8/15: error_handling_001
[fallback] using extractive context answer
   âœ… Response length: 123 characters
ğŸ” Processing Test Case 9/15: integration_patterns_001
[fallback] using extractive context answer
   âœ… Response length: 142 characters
ğŸ” Processing Test Case 10/15: development_workflow_001
[fallback] using extractive context answer
   âœ… Response length: 133 characters
ğŸ” Processing Test Case 11/15: configuration_management_001
[fallback] using extractive context answer
   âœ… Response length: 107 characters
ğŸ” Processing Test Case 12/15: testing_validation_001
[fallback] using extractive context answer
   âœ… Response length: 110 characters
ğŸ” Processing Test Case 13/15: troubleshooting_001
[fallback] using extractive context answer
   âœ… Response length: 55 characters
ğŸ” Processing Test Case 14/15: advanced_features_001
[fallback] using extractive context answer
   âœ… Response length: 39 characters
ğŸ” Processing Test Case 15/15: security_privacy_001
[fallback] using extractive context answer
   âœ… Response length: 150 characters
ğŸ’¾ Official input data saved to: metrics/baseline_evaluations/ragchecker_official_input_20250905_145712.json
â›” Skipping ragchecker.cli (bypassed). Using in-process evaluation instead.
â›” CLI bypass enabled â€” running in-process official evaluation instead
ğŸ  Running Local LLM Evaluation with comprehensive metrics
âœ… AWS Bedrock integration enabled (anthropic.claude-3-haiku-20240307-v1:0)
âœ… AWS Bedrock integration enabled (anthropic.claude-3-haiku-20240307-v1:0)
âš ï¸ Failed to load embedding model: (MaxRetryError("HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x1453e33d0>: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known'))"), '(Request ID: e8ac61bc-54db-4c03-bb62-c0283acc879f)')
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Bedrock call failed (Could not connect to the endpoint URL: "https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1%3A0/invoke"); cooling down 30.0s and falling back for this call
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466329d0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146632d60>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466451c0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466456a0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146645550>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146645ca0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466455b0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146645ac0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146645850>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146645910>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146632fd0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146632a60>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146605730>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146605040>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x146605100>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465fbbe0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465fb1f0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465fb490>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Bedrock call failed (Could not connect to the endpoint URL: "https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1%3A0/invoke"); cooling down 30.0s and falling back for this call
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d7a00>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d7460>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d7a90>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d77f0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d27c0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2580>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2940>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2b20>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2670>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465df640>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465df1f0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465dff40>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2b50>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2940>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d25e0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d2fa0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d7940>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465d76d0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Bedrock call failed (Could not connect to the endpoint URL: "https://bedrock-runtime.us-east-1.amazonaws.com/model/anthropic.claude-3-haiku-20240307-v1%3A0/invoke"); cooling down 30.0s and falling back for this call
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1465dfc70>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d9490>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d9850>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d9e50>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466e8040>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466e8400>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls
ğŸ“Š Evidence selection mode: adaptive
ğŸ“ Evidence filtering: 1/1 sentences kept (enhanced multi-signal guard)
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d9ee0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d9b50>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ Local JSON call failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1466d97f0>: Failed to establish a new connection: [Errno 1] Operation not permitted'))
âš ï¸ One-shot evaluation failed: Could not obtain valid JSON after repair attempts, falling back to individual calls

ğŸ§° Active Bedrock caps: ASYNC_MAX_CONCURRENCY=1, BEDROCK_MAX_IN_FLIGHT=1, BEDROCK_MAX_RPS=0.15, BASE_BACKOFF=1.8, MAX_BACKOFF=20, MODEL_ID=anthropic.claude-3-haiku-20240307-v1:0
ğŸ§ª Eval JSON: PROMPTS=0, MAX_TOKENS=200, COVERAGE_REWRITE=0

ğŸ’¾ Official evaluation results saved to: metrics/baseline_evaluations/ragchecker_official_evaluation_20250905_150011.json

============================================================
ğŸ“Š OFFICIAL RAGCHECKER EVALUATION SUMMARY
============================================================
ğŸ¯ Evaluation Type: in_process_official
ğŸ“‹ Total Cases: 15
ğŸ“Š Overall Metrics:
   Precision: 0.517
   Recall: 0.157
   F1 Score: 0.233

â±ï¸ Timing:
   Run Duration: 179.250s
   Avg Per-Case: 0.000s

ğŸ” Case-by-Case Results:
   unknown: F1=0.229, P=0.522, R=0.147
   unknown: F1=0.308, P=0.600, R=0.207
   unknown: F1=0.186, P=0.800, R=0.105
   unknown: F1=0.280, P=0.556, R=0.188
   unknown: F1=0.162, P=0.300, R=0.111
   unknown: F1=0.158, P=0.600, R=0.091
   unknown: F1=0.263, P=0.408, R=0.194
   unknown: F1=0.278, P=0.456, R=0.200
   unknown: F1=0.396, P=0.667, R=0.282
   unknown: F1=0.114, P=0.221, R=0.077
   unknown: F1=0.191, P=0.261, R=0.150
   unknown: F1=0.259, P=0.487, R=0.176
   unknown: F1=0.125, P=0.333, R=0.077
   unknown: F1=0.238, P=1.000, R=0.135
   unknown: F1=0.312, P=0.537, R=0.220

ğŸ“¦ Results directory: metrics/baseline_evaluations/
ğŸ§­ Eval SOP: 000_core/000_evaluation-system-entry-point.md
