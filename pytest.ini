[pytest]
addopts = -q --import-mode=importlib
asyncio_mode = auto
markers =
    legacy: quarantined tests (nightly only)
    critical: must-run on every PR
    slow: performance-heavy tests
    flaky: known to be flaky
    unit: unit tests
    integration: integration tests
    tier2: tier 2 tests
    tier3: tier 3 tests
    prop: property-based tests (nightly only)

# Deselect archived and experiment paths to keep PR runs lean
norecursedirs = 
    600_archives
    300_experiments
    docs/legacy
    scripts
    node_modules
    .git
    .pytest_cache
    __pycache__
    .dspy_cache
    dspy-rag-system

# Ignore patterns for test discovery
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
